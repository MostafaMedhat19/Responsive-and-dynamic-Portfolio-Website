<!DOCTYPE html>
<!-- Created By CodingNepal -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Portfolio Website</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.11/typed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"/>
     <style>
        /* Projects Section */


     </style>
</head>
<body>
    <div class="scroll-up-btn">
        <i class="fas fa-angle-up"></i>
    </div>
    <nav class="navbar">
        <div class="max-width">
            <div class="logo"><a href="#">LO<span>GO.</span></a></div>
            <ul class="menu">
                <li><a href="#home" class="menu-btn">Home</a></li>
                <li><a href="#about" class="menu-btn">About</a></li>
                <li><a href="#services" class="menu-btn">Services</a></li>
                <li><a href="#skills" class="menu-btn">Skills</a></li>
                <li><a href="#projects" class="menu-btn">Projects</a></li>
                <li><a href="#teams" class="menu-btn">Teams</a></li>
                <li><a href="#contact" class="menu-btn">Contact</a></li>
                <li><button class="login-btn" onclick="document.getElementById('login-modal').style.display='block'">Login</button></li>
            </ul>
            <div class="menu-btn">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </nav>

    <!-- home section start -->
    <section class="home" id="home">
        <div class="max-width">
            <div class="home-content">
                <div class="text-1">Hello, my name is</div>
                <div class="text-2">Mostafa Medhat</div>
                <div class="text-3">And I'm a <span class="typing"></span></div>
                <a href="#contact">Contact me</a>
            </div>
        </div>
    </section>

    <!-- about section start -->
    <section class="about" id="about">
        <div class="max-width">
            <h2 class="title">About me</h2>
            <div class="about-content">
                <div class="column left">
                    <img src="images/download.png" alt="">
                </div>
                <div class="column right">
                    <div class="text">I'm Developer : <span class="typing-2"></span></div>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi ut voluptatum eveniet doloremque autem excepturi eaque, sit laboriosam voluptatem nisi delectus. Facere explicabo hic minus accusamus alias fuga nihil dolorum quae. Explicabo illo unde, odio consequatur ipsam possimus veritatis, placeat, ab molestiae velit inventore exercitationem consequuntur blanditiis omnis beatae. Dolor iste excepturi ratione soluta quas culpa voluptatum repudiandae harum non.</p>
                    <a href="https://flowcv.com/resume/fsg5hgs1swr5">Download CV</a>
                </div>
            </div>
        </div>
    </section>

    <!-- services section start -->
    <section class="services" id="services">
        <div class="max-width">
            <h2 class="title">My services</h2>
            <div class="serv-content">
                <div class="card">
                    <div class="box">
                        <i class="fas fa-paint-brush"></i>
                        <div class="text">Web Design</div>
                        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Rem quia sunt, quasi quo illo enim.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <i class="fas fa-chart-line"></i>
                        <div class="text">Advertising</div>
                        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Rem quia sunt, quasi quo illo enim.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <i class="fas fa-code"></i>
                        <div class="text">Apps Design</div>
                        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Rem quia sunt, quasi quo illo enim.</p>
                    </div>
                </div>
               </div>
            </div>
        </div>
    </section>

    <!-- skills section start -->
    <section class="skills" id="skills">
        <div class="max-width">
            <h2 class="title">My skills</h2>
            <div class="skills-content">
                <div class="column left">
                    <div class="text">My creative skills & experiences.</div>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos, ratione error est recusandae consequatur, iusto illum deleniti quidem impedit, quos quaerat quis minima sequi. Cupiditate recusandae laudantium esse, harum animi aspernatur quisquam et delectus ipsum quam alias quaerat? Quasi hic quidem illum. Ad delectus natus aut hic explicabo minus quod.</p>
                    <a href="#">Read more</a>
                </div>
                 <div class="column right" id="skillsContainer">
                <!-- Skills will be loaded here dynamically -->
            </div>
            </div>
        </div>
    </section>

    <!-- projects section start -->
    <section class="projects" id="projects">
        <div class="max-width">
            <h2 class="title">My Projects</h2>
            <div class="projects-content">
                <div class="projects-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Start Date</th>
                                <th>Status</th>
                                <th>Completion</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Portfolio Website</td>
                                <td>2023-01-15</td>
                                <td><span class="status completed">Completed</span></td>
                                <td><div class="progress-bar"><div class="progress" style="width: 100%;"></div></div> 100%</td>
                            </tr>
                            <tr>
                                <td>E-commerce Platform</td>
                                <td>2023-03-10</td>
                                <td><span class="status in-progress">In Progress</span></td>
                                <td><div class="progress-bar"><div class="progress" style="width: 75%;"></div></div> 75%</td>
                            </tr>
                            <tr>
                                <td>Mobile App Development</td>
                                <td>2023-05-22</td>
                                <td><span class="status in-progress">In Progress</span></td>
                                <td><div class="progress-bar"><div class="progress" style="width: 40%;"></div></div> 40%</td>
                            </tr>
                            <tr>
                                <td>CMS System</td>
                                <td>2022-11-05</td>
                                <td><span class="status completed">Completed</span></td>
                                <td><div class="progress-bar"><div class="progress" style="width: 100%;"></div></div> 100%</td>
                            </tr>
                            <tr>
                                <td>Data Analysis Tool</td>
                                <td>2023-02-18</td>
                                <td><span class="status on-hold">On Hold</span></td>
                                <td><div class="progress-bar"><div class="progress" style="width: 30%;"></div></div> 30%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- teams section start -->
    <section class="teams" id="teams">
        <div class="max-width">
            <h2 class="title">My teams</h2>
            <div class="carousel owl-carousel">
                <div class="card">
                    <div class="box">
                        <img src="images/download.png" alt="">
                        <div class="text">Someone name</div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <img src="images/download.png" alt="">
                        <div class="text">Someone name</div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <img src="images/download.png" alt="">
                        <div class="text">Someone name</div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <img src="images/download.png" alt="">
                        <div class="text">Someone name</div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="box">
                        <img src="images/download.png" alt="">
                        <div class="text">Someone name</div>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- contact section start -->
    <section class="contact" id="contact">
        <div class="max-width">
            <h2 class="title">Contact me</h2>
            <div class="contact-content">
                <div class="column left">
                    <div class="text">Get in Touch</div>
                    <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dignissimos harum corporis fuga corrupti. Doloribus quis soluta nesciunt veritatis vitae nobis?</p>
                    <div class="icons">
                        <div class="row">
                            <i class="fas fa-user"></i>
                            <div class="info">
                                <div class="head">Name</div>
                                <div class="sub-title">Mostafa Medhat</div>
                            </div>
                        </div>
                        <div class="row">
                            <i class="fas fa-map-marker-alt"></i>
                            <div class="info">
                                <div class="head">Address</div>
                                <div class="sub-title">XXX/XXX</div>
                            </div>
                        </div>
                        <div class="row">
                            <i class="fas fa-envelope"></i>
                            <div class="info">
                                <div class="head">Email</div>
                                <div class="sub-title">mostafamedhat.0522019@gmail.com</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column right">
                    <div class="text">Message me</div>
                    <form id="messageForm">
                        <div class="fields">
                            <div class="field name">
                                <input type="text" id="senderName" placeholder="Name" required>
                            </div>
                            <div class="field email">
                                <input type="email" id="senderEmail" placeholder="Email" required>
                            </div>
                        </div>
                        
                        <div class="field textarea">
                            <textarea id="content" cols="30" rows="10" placeholder="Message.." required></textarea>
                        </div>
                        <div class="button-area">
                            <button type="submit">Send message</button>
                        </div>
                    </form>
                    <div id="messageResponse" class="response-message" style="display: none;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Login Modal -->
     <div id="login-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('login-modal').style.display='none'">&times;</span>
            <h2>Login</h2>
            <form id="loginForm">
                <div class="field">
                    <input type="text" class="form-control" id="username" placeholder="Username" required>
                </div>
                <div class="field">
                    <input type="password" class="form-control" id="password" placeholder="Password" required>
                </div>
                <div class="button-area">
                    <button type="submit">Login</button>
                </div>
            </form>
            <!-- Updated error message structure to match what JavaScript expects -->
            <div id="errorMessage" class="error-popup">
                <div class="error-popup-content">
                    <span class="error-popup-close">&times;</span>
                    <div class="error-popup-body"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- footer section start -->
    

    <script src="script.js"></script>
    <script src="dashbord.js"></script>
   <script>
         document.addEventListener('DOMContentLoaded', function() {
    fetchSkills();
});

async function fetchSkills() {
    try {
        const response = await fetch('https://localhost:7170/api/Dashboard/skills');
        
        if (!response.ok) {
            throw new Error('Failed to fetch skills');
        }
        
        const skills = await response.json();
        displaySkills(skills);
    } catch (error) {
        console.error('Error fetching skills:', error);
        // You could show an error message to the user here
    }
}

function displaySkills(skills) {
    const container = document.getElementById('skillsContainer');
    container.innerHTML = ''; // Clear any existing content
    
    skills.forEach(skill => {
        const skillElement = document.createElement('div');
        skillElement.className = 'bars';
        skillElement.innerHTML = `
            <div class="info">
                <span>${skill.name}</span>
                <span>${skill.percentage}%</span>
            </div>
            <div class="line" style="width: ${skill.percentage}%"></div>
        `;
        container.appendChild(skillElement);
    });
}
async function login(username, password) {
    try {
        const response = await fetch(`https://localhost:7170/api/auth/login`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ username, password })
        });

        if (!response.ok) {
            const error = await response.json();
            throw new Error(error.message || 'Login failed');
        }

        const data = await response.json();
        localStorage.setItem('authToken', data.token);
        authToken = data.token;
        return true;
    } catch (err) {
        console.error('Login error:', err.message);
        throw err;
    }
}
 window.onclick = function(event) {
            if (event.target == document.getElementById('login-modal')) {
                document.getElementById('login-modal').style.display = "none";
            }
        }

        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorElement = document.getElementById('errorMessage');
            const errorBody = errorElement.querySelector('.error-popup-body');
            const errorClose = errorElement.querySelector('.error-popup-close');
            
            // Hide error and reset animation
            errorElement.style.display = 'none';
            errorElement.classList.remove('shake');
            
            try {
                const success = await login(username, password);
                if (success) {
                    window.location.href = '/dashbord.html';
                }
            } catch (error) {
                
                errorBody.textContent = error.message;
                
               
                errorElement.style.display = 'block';
                errorElement.classList.add('shake');
                
                
                const autoHide = setTimeout(() => {
                    errorElement.style.display = 'none';
                }, 5000);
                
               
                errorClose.onclick = () => {
                    clearTimeout(autoHide);
                    errorElement.style.display = 'none';
                };
            }
        });
        
   </script>
</body>
</html>